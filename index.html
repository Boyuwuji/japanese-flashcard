<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="日语单词间隔重复记忆卡片 - 新日本语教程初级1">
  <meta name="theme-color" content="#6366f1">
  <title>日语单词记忆卡片</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🇯🇵</text></svg>">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <h1>日语单词记忆卡片</h1>
  </header>

  <!-- Navigation -->
  <nav class="nav">
    <button id="nav-home" class="nav-btn active">首页</button>
    <button id="nav-stats" class="nav-btn">统计</button>
    <button id="nav-settings" class="nav-btn">设置</button>
  </nav>

  <!-- Main Content -->
  <main class="main">
    <!-- Home Page -->
    <div id="page-home" class="page active">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="icon">📚</div>
          <div class="number" id="new-count">0</div>
          <div class="label">新卡片</div>
        </div>
        <div class="stat-card">
          <div class="icon">🔄</div>
          <div class="number" id="review-count">0</div>
          <div class="label">待复习</div>
        </div>
      </div>

      <div class="progress-section">
        <h3>学习进度</h3>
        <div class="progress-bar">
          <div class="progress-bar-fill" id="progress-bar-fill" style="width: 0%"></div>
        </div>
        <div class="progress-text">
          已学习 <span id="progress-learned">0</span> / <span id="progress-total">0</span> 个单词
        </div>
      </div>

      <div class="action-buttons">
        <button id="btn-start-new" class="btn btn-primary">
          📚 学习新单词
        </button>
        <button id="btn-start-review" class="btn btn-secondary">
          🔄 开始复习
        </button>
      </div>
    </div>

    <!-- Study Page -->
    <div id="page-study" class="page">
      <div class="study-header">
        <button class="btn-back" onclick="App.showHome()">←</button>
        <div class="study-progress" id="study-progress">1 / 20</div>
      </div>

      <div class="flashcard-container">
        <div class="flashcard" id="flashcard">
          <div class="card-face card-front">
            <div class="card-word" id="card-word">単語</div>
            <div class="card-reading" id="card-reading">たんご</div>
          </div>
          <div class="card-face card-back">
            <div class="card-lesson" id="card-lesson">第3课</div>
            <div class="card-reading" id="card-reading-back"></div>
            <div class="card-info">
              <span id="card-pitch"></span>
              <span id="card-pos">[名]</span>
            </div>
            <div class="card-meaning" id="card-meaning">词汇</div>
          </div>
        </div>
      </div>

      <div class="flip-hint" id="flip-hint">
        点击卡片或按空格键翻转
      </div>

      <div class="rating-buttons hidden" id="rating-buttons">
        <button id="btn-again" class="rating-btn again">
          忘记
          <span class="key">1</span>
        </button>
        <button id="btn-hard" class="rating-btn hard">
          困难
          <span class="key">2</span>
        </button>
        <button id="btn-good" class="rating-btn good">
          良好
          <span class="key">3</span>
        </button>
        <button id="btn-easy" class="rating-btn easy">
          简单
          <span class="key">4</span>
        </button>
      </div>
    </div>

    <!-- Stats Page -->
    <div id="page-stats" class="page">
      <div class="stats-section">
        <h3>📊 今日统计</h3>
        <div class="stats-row">
          <span class="label">新学单词</span>
          <span class="value" id="stats-today-new">0</span>
        </div>
        <div class="stats-row">
          <span class="label">复习单词</span>
          <span class="value" id="stats-today-review">0</span>
        </div>
      </div>

      <div class="stats-section">
        <h3>📈 总体进度</h3>
        <div class="stats-row">
          <span class="label">已学习</span>
          <span class="value" id="stats-total-learned">0</span>
        </div>
        <div class="stats-row">
          <span class="label">已掌握(21天+)</span>
          <span class="value" id="stats-mastered">0</span>
        </div>
      </div>

      <div class="stats-section">
        <h3>📖 各课进度</h3>
        <div id="lesson-stats"></div>
      </div>
    </div>

    <!-- Settings Page -->
    <div id="page-settings" class="page">
      <div class="setting-item">
        <div>
          <div class="label">每日新卡片数</div>
          <div class="description">每天学习的新单词数量</div>
        </div>
        <input type="number" id="new-cards-per-day" value="20" min="5" max="100">
      </div>

      <div class="setting-item">
        <div>
          <div class="label">深色模式</div>
          <div class="description">护眼暗色主题</div>
        </div>
        <label class="toggle">
          <input type="checkbox" id="dark-mode-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
        <div class="label" style="margin-bottom: 0.5rem;">选择学习课程</div>
        <div class="lesson-grid">
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="3" checked> 3
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="4" checked> 4
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="5" checked> 5
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="6" checked> 6
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="7"> 7
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="8"> 8
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="9"> 9
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="10"> 10
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="11"> 11
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="12"> 12
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="13"> 13
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="14"> 14
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="15"> 15
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="16"> 16
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="17"> 17
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="18"> 18
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="19"> 19
          </label>
          <label class="lesson-checkbox-label">
            <input type="checkbox" class="lesson-checkbox" value="20"> 20
          </label>
        </div>
      </div>

      <div class="settings-actions">
        <button id="btn-export" class="btn btn-secondary">
          📤 导出数据
        </button>
        <button id="btn-import" class="btn btn-secondary">
          📥 导入数据
        </button>
        <button id="btn-reset" class="btn btn-danger">
          🗑️ 重置进度
        </button>
      </div>
    </div>
  </main>

  <!-- Modal Dialog -->
  <div id="modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-icon">🎉</div>
      <div class="modal-title" id="modal-title">学习完成!</div>
      <div class="modal-body" id="modal-body"></div>
      <button class="btn btn-primary modal-btn" id="modal-close">确定</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/vocabulary.js"></script>
  <script src="js/sm2.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/app.js"></script>
</body>

</html>